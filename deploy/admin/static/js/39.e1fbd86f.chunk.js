(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[39],{496:function(e,t,n){"use strict";n(2);var r=n(6);t.a=function(){return Object(r.jsx)("div",{className:"w-full flex justify-center items-center mt-12 mb-12",children:Object(r.jsx)("div",{className:"spinner"})})}},504:function(e,t,n){"use strict";var r=n(37),a=n(54),c=(n(2),n(84)),o=n.n(c),s=n(6);t.a=function(e){return o.a.createPortal(Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",tabIndex:-1,onClick:e.onClose,children:Object(s.jsx)("div",{className:"relative my-6 mx-auto w-96",onClick:function(e){return e.stopPropagation()},children:Object(s.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(s.jsxs)("div",{className:"flex items-start justify-between p-5 rounded-t",children:[Object(s.jsx)("div",{className:"text-lg font-semibold",children:e.title}),Object(s.jsx)("button",{type:"button",className:"ml-auto bg-transparent border-0 text-gray-900 float-right text-lg leading-none font-semibold outline-none focus:outline-none",onClick:e.onClose,children:Object(s.jsx)("span",{className:"bg-transparent text-gray-700 h-6 w-6 text-lg block outline-none focus:outline-none",children:Object(s.jsx)(a.a,{icon:r.s})})})]}),Object(s.jsxs)("div",{className:"flex items-center justify-end p-6 rounded-b",children:[Object(s.jsx)("button",{type:"button",className:"mr-2 text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide dark:border-gray-800 dark:bg-gray-800 dark:hover:bg-gray-600 dark:text-white text-gray-700 border border-gray-300 transition-colors duration-200 transform bg-white rounded-md hover:bg-gray-100 focus:outline-none focus:bg-gray-100",onClick:e.onClose,children:e.cancelText}),Object(s.jsx)("button",{type:"button",onClick:e.onConfirm,className:"text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600",children:e.okText})]})]})})}),Object(s.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}),document.getElementById("modal-root"))}},513:function(e,t,n){"use strict";var r,a=n(159),c=n(37),o=n(54),s=(n(2),n(160)),i=n(6),l=s.a.th(r||(r=Object(a.a)(["\n  cursor: pointer;\n  opacity: 1;\n  transition: opacity 0.15s ease-in;\n\n  &:hover,\n  &:focus {\n    opacity: 0.5;\n    transition: opacity 0.15s ease-in;\n  }\n\n  &:active {\n    opacity: 0.8;\n    transition: opacity 0.15s ease-out;\n  }\n"])));t.a=function(e){var t=e.sorter,n=e.onSort,r=e.name,a=e.label,s=e.hasRows,d=e.children,b=e.align,u=void 0===b?"left":b;return s&&n?Object(i.jsx)(l,{onClick:function(){return n(r)},className:"".concat(e.className||""," whitespace-nowrap align-middle px-5 py-3 border-b-2 border-gray-200 bg-gray-100  text-xs font-semibold text-gray-600 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200 uppercase tracking-wider"),style:{textAlign:u},scope:"col",children:Object(i.jsxs)("div",{className:"flex",style:{justifyContent:"right"===u?"flex-end":"center"===u?"center":"flex-start"},children:[d||a||"",t.field===r&&"descend"===t.order&&Object(i.jsx)(o.a,{className:"ml-2",icon:c.q}),t.field===r&&"ascend"===t.order&&Object(i.jsx)(o.a,{className:"ml-2",icon:c.p})]})}):Object(i.jsx)("th",{className:"".concat(e.className||""," whitespace-nowrap align-middle px-5 py-3 border-b-2 border-gray-200 bg-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200  text-xs font-semibold text-gray-600 uppercase tracking-wider"),style:{textAlign:u},scope:"col",children:d||a||""})}},514:function(e,t,n){"use strict";var r=n(551),a=(n(2),n(4)),c=n(6);t.a=function(e){var t=function(t,n){e.onChange({current:Number(t),pageSize:Number(n)})},n=Object(a.a)().dictionary.pagination,o=e.pagination,s=e.disabled,i=e.showTotal,l=o.current,d=o.pageSize,b=o.total;return Object(c.jsxs)("div",{className:"flex items-center justify-end mt-2",children:[Object(c.jsx)(r.a,{pageSize:Number(d),current:l,onChange:t,total:b,locale:n,showTotal:i||void 0}),Object(c.jsxs)("select",{disabled:!b||s,style:{height:"32px"},className:"ml-2 cursor-pointer text-sm w-28 inline-block px-4 py-1 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring",value:Number(d),onChange:function(e){return t(1,e.target.value)},children:[Object(c.jsxs)("option",{value:10,children:["10 ",Object(a.c)("pagination.items_per_page")]}),Object(c.jsxs)("option",{value:20,children:["20 ",Object(a.c)("pagination.items_per_page")]}),Object(c.jsxs)("option",{value:30,children:["30 ",Object(a.c)("pagination.items_per_page")]}),Object(c.jsxs)("option",{value:40,children:["40 ",Object(a.c)("pagination.items_per_page")]})]})]})}},631:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(4),c=n(23),o=n(51);var s=function(e){var t=Object(c.d)();return Object(r.useEffect)((function(){t(o.a.doFetch())}),[t]),null},i=n(100),l=n(503),d=n(37),b=n(54),u=n(59),j=n(25),g=n(18),m=n(26),x=n(126),f=n(5),p={selectLoading:Object(f.a)([function(e){return e.tenant.destroy}],(function(e){return Boolean(e.loading)}))},y=n(58),O=n(170),h=n(98),v=n(39),w=n(95),k={selectPermissionToEdit:Object(f.a)([m.a.selectCurrentUser],(function(e){return function(t){return new v.a(t,e).match(w.a.values.tenantEdit)}})),selectPermissionToDestroy:Object(f.a)([m.a.selectCurrentUser],(function(e){return function(t){return new v.a(t,e).match(w.a.values.tenantDestroy)}})),selectInvitationToken:Object(f.a)([m.a.selectCurrentUser],(function(e){return function(t){if(!e||!e.tenants)return!1;var n=e.tenants.find((function(e){return e.tenant.id===t.id&&"invited"===e.status}));return n?n.invitationToken:null}}))},N=n(22),C=n(111),T=n(504),S=n(496),P=n(514),E=n(513),_=n(6);var D=function(){var e=Object(c.d)(),t=Object(r.useState)(null),n=Object(i.a)(t,2),s=n[0],f=n[1],v=Object(r.useState)(null),w=Object(i.a)(v,2),D=w[0],F=w[1],z=Object(c.e)(h.a.selectLoading),L=Object(c.e)(p.selectLoading),R=Object(c.e)(O.a.selectLoading),B=z||L||R,I=Object(c.e)(h.a.selectRows),U=Object(c.e)(h.a.selectPagination),A=Object(c.e)(h.a.selectHasRows),J=Object(c.e)(h.a.selectSorter),Y=Object(c.e)(k.selectPermissionToEdit),q=Object(c.e)(k.selectPermissionToDestroy),H=Object(c.e)(k.selectInvitationToken),G=Object(c.e)(m.a.selectCurrentTenant);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"table-responsive shadow rounded-lg dark:bg-gray-600 dark:border-gray-600 dark:text-gray-200 dark:border",children:Object(_.jsxs)("table",{className:"border-collapse min-w-full leading-normal",children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)(E.a,{onSort:function(t){var n=J.field===t&&"ascend"===J.order?"descend":"ascend";e(o.a.doChangeSort({field:t,order:n}))},hasRows:A,sorter:J,name:"name",label:Object(a.c)("tenant.fields.name")}),N.a.isEnabled&&Object(_.jsx)(E.a,{label:Object(a.c)("tenant.fields.url")}),j.a.isPlanEnabled&&Object(_.jsx)(E.a,{label:Object(a.c)("tenant.fields.plan")}),Object(_.jsx)(E.a,{className:"th-actions"})]})}),Object(_.jsxs)("tbody",{children:[B&&Object(_.jsx)("tr",{children:Object(_.jsx)("td",{colSpan:100,children:Object(_.jsx)(S.a,{})})}),!B&&!A&&Object(_.jsx)("tr",{children:Object(_.jsx)("td",{colSpan:100,children:Object(_.jsx)("div",{className:"flex justify-center p-5",children:Object(a.c)("table.noData")})})}),!B&&I.map((function(t){return Object(_.jsxs)("tr",{children:[Object(_.jsxs)("td",{className:"whitespace-nowrap px-5 py-5 border-b border-gray-200 dark:border-gray-800 text-sm",children:[t.name,Boolean(H(t))&&Object(_.jsx)("span",{style:{marginLeft:"8px"},className:"badge badge-warning",children:Object(a.c)("tenant.invitation.invited")})]}),N.a.isEnabled&&Object(_.jsx)("td",{className:"whitespace-nowrap px-5 py-5 border-b border-gray-200 dark:border-gray-800 text-sm",children:"".concat(t.url,".").concat(j.a.frontendUrl.host)}),j.a.isPlanEnabled&&Object(_.jsx)("td",{className:"whitespace-nowrap px-5 py-5 border-b border-gray-200 dark:border-gray-800 text-sm",children:Object(_.jsx)("span",{className:"font-medium py-1 px-2 text-sm rounded-lg ".concat(t.plan===C.a.values.free?"bg-gray-500 text-white dark:bg-gray-800 dark:text-gray-100":"bg-yellow-500 text-white dark:bg-yellow-800 dark:text-yellow-100"),children:Object(a.c)("plan.".concat(t.plan,".label"))})}),Object(_.jsx)("td",{className:"w-56 whitespace-nowrap border-b px-5 py-5 border-gray-200 dark:border-gray-800",align:"right",children:Boolean(H(t))?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("button",{className:"mr-2 text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-green-700 rounded-md hover:bg-green-600 focus:outline-none focus:bg-green-600",style:{marginRight:"8px"},onClick:function(){return n=H(t),void e(y.a.doAccept(n));var n},children:Object(a.c)("tenant.invitation.accept")}),Object(_.jsx)("button",{className:"text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-red-700 rounded-md hover:bg-red-600 focus:outline-none focus:bg-red-600",onClick:function(){return F(H(t))},children:Object(a.c)("tenant.invitation.decline")})]}):Object(_.jsxs)(_.Fragment,{children:[G.id!==t.id&&Object(_.jsxs)("button",{className:"mr-2 text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600",onClick:function(){return n=t,void e(g.a.doSelectTenant(n));var n},children:[Object(_.jsx)(b.a,{className:"mr-2",icon:d.b}),Object(a.c)("tenant.select")]}),Y(t)&&Object(_.jsx)(u.a,{className:"inline-flex justify-center items-center w-9 h-9 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",to:"/tenant/".concat(t.id,"/edit"),title:Object(a.c)("common.edit"),children:Object(_.jsx)(b.a,{icon:l.a})}),q(t)&&Object(_.jsx)("button",{className:"inline-flex justify-center items-center w-9 h-9 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",type:"button",onClick:function(){return f(t.id)},title:Object(a.c)("common.destroy"),children:Object(_.jsx)(b.a,{icon:l.f})})]})})]},t.id)}))]})]})}),Object(_.jsx)(P.a,{onChange:function(t){e(o.a.doChangePagination(t))},disabled:B,pagination:U}),D&&Object(_.jsx)(T.a,{title:Object(a.c)("common.areYouSure"),onConfirm:function(){return t=D,F(null),void e(y.a.doDecline(t));var t},onClose:function(){return F(null)},okText:Object(a.c)("common.yes"),cancelText:Object(a.c)("common.no")}),s&&Object(_.jsx)(T.a,{title:Object(a.c)("common.areYouSure"),onConfirm:function(){return t=s,f(null),void e(x.a.doDestroy(t));var t},onClose:function(){return f(null)},okText:Object(a.c)("common.yes"),cancelText:Object(a.c)("common.no")})]})};var F=function(e){return Object(_.jsx)("div",{className:"mb-4",children:Object(_.jsx)(u.a,{to:"/tenant/new",children:Object(_.jsxs)("button",{className:"mb-2 mr-2 text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600",type:"button",children:[Object(_.jsx)(b.a,{className:"mr-2",icon:d.m}),Object(a.c)("common.new")]})})})};t.default=function(e){return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"p-6 bg-white dark:bg-gray-800 dark:border-gray-800 text-gray-900 dark:text-gray-200 border-gray-200 border rounded-md",children:[Object(_.jsx)("h1",{className:" text-lg font-medium mb-6",children:Object(a.c)("tenant.list.title")}),Object(_.jsx)(F,{}),Object(_.jsx)(s,{}),Object(_.jsx)(D,{})]})})}}}]);