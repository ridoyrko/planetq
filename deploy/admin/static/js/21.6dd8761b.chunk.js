(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[21],{492:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(8),a=r(9),o=function(){function e(){Object(n.a)(this,e)}return Object(a.a)(e,null,[{key:"errorMessage",value:function(e,t,r,n){var a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(o)return o;if(!n&&!r[e])return null;var i=t[e];return(null===i||void 0===i||null===(a=i[0])||void 0===a?void 0:a.message)||(null===i||void 0===i?void 0:i.message)||i||null}}]),e}()},493:function(e,t,r){"use strict";var n=r(37),a=r(54),o=(r(2),r(59)),i=r(6);t.a=function(e){var t=function(e){return e.length>1};return Object(i.jsx)("ol",{className:"text-sm flex items-center",children:e.items.map((function(r,u){var c=0===u,l=e.items.length-1===u;return Object(i.jsxs)("li",{className:"".concat(l?"text-gray-800 dark:text-white":"text-gray-500 dark:text-gray-200 mr-2"),children:[!c&&Object(i.jsx)(a.a,{className:"mr-2 font-normal text-gray-400 dark:text-gray-200",icon:n.d}),t(r)?Object(i.jsx)(o.a,{className:"hover:underline",to:r[1],children:r[0]}):r[0]]},r[0])}))})}},496:function(e,t,r){"use strict";r(2);var n=r(6);t.a=function(){return Object(n.jsx)("div",{className:"w-full flex justify-center items-center mt-12 mb-12",children:Object(n.jsx)("div",{className:"spinner"})})}},498:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},499:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return a}))},500:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(162);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(n.a)(e,t)}},501:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(518),a=r.n(n),o=r(520);function i(e,t){return!t||"object"!==a()(t)&&"function"!==typeof t?Object(o.a)(e):t}},502:function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return n}))},505:function(e,t,r){"use strict";var n=r(20),a=r(28),o=r(4),i=r(55),u=r.n(i),c={generic:function(e){return a.c().label(e)},string:function(e,t){t=t||{};var r=a.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e);return t.required&&(r=r.required()),(t.min||0===t.min)&&(r=r.min(t.min)),t.max&&(r=r.max(t.max)),t.matches&&(r=r.matches(t.matches)),r},boolean:function(e,t){return a.b().default(!1).label(e)},relationToOne:function(e,t){t=t||{};var r=a.c().nullable(!0).label(e).transform((function(e,t){return t?t.id:null}));return t.required&&(r=r.required()),r},stringArray:function(e,t){t=t||{};var r=a.a().compact().ensure().of(a.h().transform((function(e,t){return""===t?null:e})).trim()).label(e);return(t.required||t.min)&&(r=r.required()),t.min||0===t.min?r=r.min(t.min):t.required&&(r=r.min(1)),t.max&&(r=r.max(t.max)),r},relationToMany:function(e,t){t=t||{};var r=a.a().nullable(!0).label(e).transform((function(e,t){return t&&t.length?t.map((function(e){return e.id})):[]}));return(t.required||t.min)&&(r=r.required()),t.min||0===t.min?r=r.min(t.min):t.required&&(r=r.min(1)),t.max&&(r=r.max(t.max)),r},integer:function(e,t){t=t||{};var r=a.d().transform((function(e,t){return""===t?null:e})).integer().nullable(!0).label(e);return t.required&&(r=r.required()),(t.min||0===t.min)&&(r=r.min(t.min)),t.max&&(r=r.max(t.max)),r},images:function(e,t){t=t||{};var r=a.a().nullable(!0).label(e);return(t.required||t.min)&&(r=r.required()),t.min||0===t.min?r=r.min(t.min):t.required&&(r=r.min(1)),t.max&&(r=r.max(t.max)),r},files:function(e,t){t=t||{};var r=a.a().compact().ensure().nullable(!0).label(e);return(t.required||t.min)&&(r=r.required()),t.min||0===t.min?r=r.min(t.min):t.required&&(r=r.min(1)),t.max&&(r=r.max(t.max)),r},enumerator:function(e,t){t=t||{};var r=a.h().transform((function(e,t){return""===t?null:e})).label(e).nullable(!0).oneOf([null].concat(Object(n.a)(t.options||[])));return t.required&&(r=r.required(Object(o.c)("validation.string.selected"))),r},email:function(e,t){t=t||{};var r=a.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e).email();return t.required&&(r=r.required()),(t.min||0===t.min)&&(r=r.min(t.min)),t.max&&(r=r.max(t.max)),t.matches&&(r=r.matches(t.matches)),r},decimal:function(e,t){t=t||{};var r=a.d().transform((function(e,t){return""===t?null:e})).nullable(!0).label(e);return t.required&&(r=r.required()),(t.min||0===t.min)&&(r=r.min(t.min)),t.max&&(r=r.max(t.max)),r},datetime:function(e,t){t=t||{};var r=a.c().nullable(!0).label(e).transform((function(e,t){return e?u()(t,"YYYY-MM-DD HH:mm").toISOString():null}));return t.required&&(r=r.required()),r},date:function(e,t){t=t||{};var r=a.c().nullable(!0).label(e).test("is-date",Object(o.c)("validation.mixed.default"),(function(e){return!e||u()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?u()(e).format("YYYY-MM-DD"):null}));return t.required&&(r=r.required()),r}};t.a=c},510:function(e,t,r){"use strict";var n=r(0);t.a=function(e,t){return t?{container:function(e){return Object(n.a)(Object(n.a)({},e),{},{borderRadius:"0.375rem",cursor:"pointer"})},control:function(t,r){return Object(n.a)(Object(n.a)({},t),{},{minHeight:"42px",borderColor:"rgb(248, 113, 113)",color:"rgb(220, 38, 38)",cursor:r.isDisabled?"default":"pointer",backgroundColor:e?"rgb(31, 41, 55)":"white"})},indicatorSeparator:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{backgroundColor:"rgb(248, 113, 113)"})},singleValue:function(e){return Object(n.a)(Object(n.a)({},e),{},{color:"rgb(220, 38, 38)"})},menu:function(t,r){return Object(n.a)(Object(n.a)({},t),{},{backgroundColor:e?"rgb(31, 41, 55)":"white"})},option:function(t,r){return Object(n.a)(Object(n.a)({},t),{},{cursor:"pointer",backgroundColor:e?r.isFocused?"rgb(209, 213, 219)":"rgb(31, 41, 55)":r.isFocused?"rgb(55, 65, 81)":"white",color:e?r.isFocused?"rgb(55, 65, 81)":"rgb(209, 213, 219)":r.isFocused?"white":"rgb(55, 65, 81)"})},multiValue:function(t,r){return Object(n.a)(Object(n.a)({},t),{},{color:e?r.isFocused?"rgb(55, 65, 81)":"rgb(209, 213, 219)":r.isFocused?"white":"rgb(55, 65, 81)"})},input:function(t,r){return Object(n.a)(Object(n.a)({},t),{},{color:e?r.isFocused?"rgb(55, 65, 81)":"rgb(209, 213, 219)":r.isFocused?"white":"rgb(55, 65, 81)"})},multiValueRemove:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{color:"rgb(55, 65, 81)"})}}:{container:function(e){return Object(n.a)(Object(n.a)({},e),{},{borderRadius:"0.375rem",cursor:"pointer"})},control:function(t,r){return Object(n.a)(Object(n.a)({},t),{},{minHeight:"42px",cursor:r.isDisabled?"default":"pointer",color:e?"rgb(229, 231, 235)":"rgb(55, 65, 81)",backgroundColor:e?"rgb(31, 41, 55)":"white",borderColor:e?"rgb(75, 85, 99)":"rgb(209, 213, 219)"})},indicatorSeparator:function(t,r){return Object(n.a)(Object(n.a)({},t),{},{backgroundColor:e?"rgb(75, 85, 99)":"rgb(209, 213, 219)"})},singleValue:function(t){return Object(n.a)(Object(n.a)({},t),{},{color:e?"rgb(229, 231, 235)":"rgb(55, 65, 81)"})},menu:function(t,r){return Object(n.a)(Object(n.a)({},t),{},{backgroundColor:e?"rgb(31, 41, 55)":"white"})},option:function(t,r){return Object(n.a)(Object(n.a)({},t),{},{cursor:"pointer",backgroundColor:e?r.isFocused?"rgb(209, 213, 219)":"rgb(31, 41, 55)":r.isFocused?"rgb(55, 65, 81)":"white",color:e?r.isFocused?"rgb(55, 65, 81)":"rgb(209, 213, 219)":r.isFocused?"white":"rgb(55, 65, 81)"})},input:function(t,r){return Object(n.a)(Object(n.a)({},t),{},{color:e?r.isFocused?"rgb(55, 65, 81)":"rgb(209, 213, 219)":r.isFocused?"white":"rgb(55, 65, 81)"})},multiValueRemove:function(e,t){return Object(n.a)(Object(n.a)({},e),{},{color:"rgb(55, 65, 81)"})}}}},512:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},518:function(e,t){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},520:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},527:function(e,t,r){"use strict";var n=r(100),a=r(2),o=r(531),i=r(4),u=r(491),c=r(492),l=r(23),s=r(60),b=r(510),d=r(596),m=r(6);function f(e){var t=Object(a.useState)(Object(d.a)()),r=Object(n.a)(t,1)[0],f=e.label,j=e.name,g=e.hint,O=e.options,p=e.required,x=e.mode,h=e.placeholder,v=e.isClearable,y=e.externalErrorMessage,w=Object(u.d)(),k=w.register,q=w.errors,C=w.formState,N=C.touched,S=C.isSubmitted,M=w.setValue,F=w.watch,D=c.a.errorMessage(j,q,N,S,y),V=F(j),Y=Object(l.e)(s.a.selectDarkMode);Object(a.useEffect)((function(){k({name:j})}),[k,j]);var _=function(){return V?V.map((function(e){return O.find((function(t){return t.value===e}))})):[]},B=function(){var t=e.options;return null!=V?t.find((function(e){return e.value===V})):null},L=function(t){if(!t)return M(j,[],{shouldValidate:!0,shouldDirty:!0}),void(e.onChange&&e.onChange([]));var r=t.map((function(e){return e?e.value:e})).filter((function(e){return null!=e}));M(j,r,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(r)},E=function(t){if(!t)return M(j,null,{shouldValidate:!0,shouldDirty:!0}),void(e.onChange&&e.onChange(null));M(j,t.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t.value)},R=Object(b.a)(Y,Boolean(D));return Object(m.jsxs)("div",{children:[Boolean(f)&&Object(m.jsxs)("label",{className:"block text-sm text-gray-800 dark:text-gray-200",htmlFor:r,children:[f," ",p?Object(m.jsx)("span",{className:"text-sm text-red-400",children:"*"}):null]}),Object(m.jsx)(o.a,{className:"w-full mt-2",value:"multiple"===e.mode?_():B(),onChange:function(t){return"multiple"===e.mode?L(t):E(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},id:r,name:j,options:O,isMulti:"multiple"===x,placeholder:h||"",isClearable:v,styles:R,loadingMessage:function(){return Object(i.c)("autocomplete.loading")},noOptionsMessage:function(){return Object(i.c)("autocomplete.noOptions")}}),Object(m.jsx)("div",{className:"text-red-600 text-sm mt-2",children:D}),Boolean(g)&&Object(m.jsx)("div",{className:"text-gray-500 text-sm mt-2",children:g})]})}f.defaultProps={required:!1,isClearable:!0},t.a=f},568:function(e,t,r){"use strict";var n=r(164),a={status:["active","invited","empty-permissions"],roles:Object.keys(n.a.values)};t.a=a},578:function(e,t,r){"use strict";var n=r(5),a=function(e){return e.user.form},o=Object(n.a)([a],(function(e){return e.user})),i={selectInitLoading:Object(n.a)([a],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:Object(n.a)([a],(function(e){return Boolean(e.saveLoading)})),selectUser:o,selectRaw:a};t.a=i},649:function(e,t,r){"use strict";r.r(t);var n=r(100),a=r(2),o=r(23),i=r(24),u=r(4),c=r(12),l=r(65),s=r(578),b=r(493),d=r(496),m=r(0),f=r(503),j=r(37),g=r(54),O=r(508),p=r(491),x=r(505),h=r(568),v=r(527),y=r(28),w=r(6),k=y.e().shape({roles:x.a.stringArray(Object(u.c)("user.fields.roles"))});var q=function(e){var t=Object(o.d)(),r=e.saveLoading,i=Object(a.useState)((function(){return e.user||{}})),c=Object(n.a)(i,1)[0],s=Object(p.c)({resolver:Object(O.yupResolver)(k),mode:"all",defaultValues:c}),b=function(r){var n=Object(m.a)({id:e.user.id},r);delete n.email,t(l.a.doUpdate(n))};return Object(w.jsx)(p.a,Object(m.a)(Object(m.a)({},s),{},{children:Object(w.jsxs)("form",{onSubmit:s.handleSubmit(b),children:[Object(w.jsxs)("div",{className:"w-full md:w-md lg:w-md",children:[Object(w.jsx)("label",{className:"block text-sm text-gray-800 dark:text-gray-200",children:Object(u.c)("user.fields.email")}),Object(w.jsx)("div",{className:"mt-1",children:e.user.email})]}),Object(w.jsx)("div",{className:"w-full sm:w-md md:w-md lg:w-md mt-4",children:Object(w.jsx)(v.a,{name:"roles",label:Object(u.c)("user.fields.roles"),options:h.a.roles.map((function(e){return{value:e,label:Object(u.c)("roles.".concat(e,".label"))}})),mode:"multiple"})}),Object(w.jsxs)("div",{className:"pt-4",children:[Object(w.jsxs)("button",{className:"mr-2 mb-2 text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600",disabled:r,type:"button",onClick:s.handleSubmit(b),children:[Object(w.jsx)(g.a,{className:"mr-2",icon:f.e}),Object(u.c)("common.save")]}),Object(w.jsxs)("button",{disabled:r,onClick:function(){Object.keys(c).forEach((function(e){s.setValue(e,c[e])}))},className:"mr-2 mb-2 text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide dark:border-gray-800 dark:bg-gray-800 dark:hover:bg-gray-600 dark:text-white text-gray-700 border border-gray-300 transition-colors duration-200 transform bg-white rounded-md hover:bg-gray-100 focus:outline-none focus:bg-gray-100",type:"button",children:[Object(w.jsx)(g.a,{className:"mr-2",icon:j.t}),Object(u.c)("common.reset")]}),e.onCancel?Object(w.jsxs)("button",{disabled:r,onClick:function(){return e.onCancel()},className:"mr-2 mb-2 text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide dark:border-gray-800 dark:bg-gray-800 dark:hover:bg-gray-600 dark:text-white text-gray-700 border border-gray-300 transition-colors duration-200 transform bg-white rounded-md hover:bg-gray-100 focus:outline-none focus:bg-gray-100",type:"button",children:[Object(w.jsx)(g.a,{className:"mr-2",icon:j.s}),Object(u.c)("common.cancel")]}):null]})]})}))};t.default=function(e){var t=Object(o.d)(),r=Object(a.useState)(!1),m=Object(n.a)(r,2),f=m[0],j=m[1],g=Object(o.e)(s.a.selectInitLoading),O=Object(o.e)(s.a.selectSaveLoading),p=Object(o.e)(s.a.selectUser),x=Object(i.h)();return Object(a.useEffect)((function(){t(l.a.doInit(x.params.id)),j(!0)}),[t,x.params.id]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(b.a,{items:[[Object(u.c)("dashboard.menu"),"/"],[Object(u.c)("user.menu"),"/user"],[Object(u.c)("user.edit.title")]]}),Object(w.jsxs)("div",{className:"mt-4 p-6 bg-white dark:bg-gray-800 dark:border-gray-800 text-gray-900 dark:text-gray-200 border-gray-200 border rounded-md",children:[Object(w.jsx)("h1",{className:"text-lg font-medium mb-6",children:Object(u.c)("user.edit.title")}),g&&Object(w.jsx)(d.a,{}),f&&!g&&Object(w.jsx)(q,{user:p,saveLoading:O,onCancel:function(){return Object(c.b)().push("/user")}})]})]})}}}]);