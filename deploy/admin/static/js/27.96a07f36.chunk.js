(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[27],{493:function(e,t,r){"use strict";var n=r(37),a=r(54),s=(r(2),r(59)),c=r(6);t.a=function(e){var t=function(e){return e.length>1};return Object(c.jsx)("ol",{className:"text-sm flex items-center",children:e.items.map((function(r,o){var i=0===o,l=e.items.length-1===o;return Object(c.jsxs)("li",{className:"".concat(l?"text-gray-800 dark:text-white":"text-gray-500 dark:text-gray-200 mr-2"),children:[!i&&Object(c.jsx)(a.a,{className:"mr-2 font-normal text-gray-400 dark:text-gray-200",icon:n.d}),t(r)?Object(c.jsx)(s.a,{className:"hover:underline",to:r[1],children:r[0]}):r[0]]},r[0])}))})}},496:function(e,t,r){"use strict";r(2);var n=r(6);t.a=function(){return Object(n.jsx)("div",{className:"w-full flex justify-center items-center mt-12 mb-12",children:Object(n.jsx)("div",{className:"spinner"})})}},530:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r(100),a=r(1),s=r.n(a),c=r(3),o=r(8),i=r(9),l=r(532),u=r.n(l),d=r(4),b=r(13),m=r(596),f=r(11),j=r(161),p=r.n(j),x=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"validate",value:function(e,t){if(t){if(t.image&&!e.type.startsWith("image"))throw new Error(Object(d.c)("fileUploader.image"));if(t.storage.maxSizeInBytes&&e.size>t.storage.maxSizeInBytes)throw new Error(Object(d.c)("fileUploader.size",u()(t.storage.maxSizeInBytes)));var r=g(e.name);if(t.formats&&!t.formats.includes(r))throw new Error(Object(d.c)("fileUploader.formats",t.formats.join(", ")))}}},{key:"upload",value:function(){var e=Object(c.a)(s.a.mark((function e(t,r){var n,a,c,o,i,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this.validate(t,r),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 7:return n=g(t.name),a=Object(m.a)(),c="".concat(a,".").concat(n),e.next=12,this.fetchFileCredentials(c,r);case 12:return o=e.sent,i=o.uploadCredentials,l=o.downloadUrl,u=o.privateUrl,e.next=18,this.uploadToServer(t,i);case 18:return e.abrupt("return",{id:a,name:t.name,sizeInBytes:t.size,publicUrl:i&&i.publicUrl?i.publicUrl:null,privateUrl:u,downloadUrl:l,new:!0});case 19:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"fetchFileCredentials",value:function(){var e=Object(c.a)(s.a.mark((function e(t,r){var n,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.a.get(),e.next=3,b.a.get("/tenant/".concat(n,"/file/credentials"),{params:{filename:t,storageId:r.storage.id}});case 3:return a=e.sent,c=a.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"uploadToServer",value:function(){var e=Object(c.a)(s.a.mark((function e(t,r){var a,c,o,i,l,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,a=r.url,c=new FormData,o=0,i=Object.entries(r.fields||{});o<i.length;o++)l=Object(n.a)(i[o],2),u=l[0],d=l[1],c.append(u,d);return c.append("file",t),e.abrupt("return",p.a.post(a,c,{headers:{"Content-Type":"multipart/form-data"}}));case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();function g(e){if(!e)return null;var t=/(?:\.([^.]+))?$/.exec(e);return t?t[1]:null}},532:function(e,t,r){"use strict";(function(t){!function(t){var r=/^(b|B)$/,n={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},a={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};function s(e){var t,s,c,o,i,l,u,d,b,m,f,j,p,x,g,h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},v=[],y=0,O=void 0,w=void 0;if(isNaN(e))throw new TypeError("Invalid number");return s=!0===h.bits,f=!0===h.unix,t=h.base||2,m=void 0!==h.round?h.round:f?1:2,l=void 0!==h.locale?h.locale:"",u=h.localeOptions||{},j=void 0!==h.separator?h.separator:"",p=void 0!==h.spacer?h.spacer:f?"":" ",g=h.symbols||{},x=2===t&&h.standard||"jedec",b=h.output||"string",o=!0===h.fullform,i=h.fullforms instanceof Array?h.fullforms:[],O=void 0!==h.exponent?h.exponent:-1,c=2<t?1e3:1024,(d=(w=Number(e))<0)&&(w=-w),(-1===O||isNaN(O))&&(O=Math.floor(Math.log(w)/Math.log(c)))<0&&(O=0),8<O&&(O=8),"exponent"===b?O:(0===w?(v[0]=0,v[1]=f?"":n[x][s?"bits":"bytes"][O]):(y=w/(2===t?Math.pow(2,10*O):Math.pow(1e3,O)),s&&c<=(y*=8)&&O<8&&(y/=c,O++),v[0]=Number(y.toFixed(0<O?m:0)),v[0]===c&&O<8&&void 0===h.exponent&&(v[0]=1,O++),v[1]=10===t&&1===O?s?"kb":"kB":n[x][s?"bits":"bytes"][O],f&&(v[1]="jedec"===x?v[1].charAt(0):0<O?v[1].replace(/B$/,""):v[1],r.test(v[1])&&(v[0]=Math.floor(v[0]),v[1]=""))),d&&(v[0]=-v[0]),v[1]=g[v[1]]||v[1],!0===l?v[0]=v[0].toLocaleString():0<l.length?v[0]=v[0].toLocaleString(l,u):0<j.length&&(v[0]=v[0].toString().replace(".",j)),"array"===b?v:(o&&(v[1]=i[O]?i[O]:a[x][O]+(s?"bit":"byte")+(1===v[0]?"":"s")),"object"===b?{value:v[0],symbol:v[1],exponent:O}:v.join(p)))}s.partial=function(e){return function(t){return s(t,e)}},e.exports=s}("undefined"!=typeof window&&window)}).call(this,r(47))},559:function(e,t,r){"use strict";var n,a=r(1),s=r.n(a),c=r(20),o=r(3),i=r(100),l=r(37),u=r(54),d=r(2),b=r(4),m=r(7),f=r(530),j=r(159),p=r(160),x=r(6),g=p.a.div(n||(n=Object(j.a)(["\n  /* The Modal (background) */\n  .modal {\n    display: block;\n    position: fixed; /* Stay in place */\n    z-index: 9999; /* Sit on top */\n    padding-top: 100px; /* Location of the box */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    overflow: auto; /* Enable scroll if needed */\n    background-color: rgb(0, 0, 0); /* Fallback color */\n    background-color: rgba(\n      0,\n      0,\n      0,\n      0.9\n    ); /* Black w/ opacity */\n  }\n\n  /* Modal Content (Image) */\n  .modal-content {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n  }\n\n  /* Caption of Modal Image (Image Text) - Same Width as the Image */\n  #caption {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n    text-align: center;\n    color: #ccc;\n    padding: 10px 0;\n    height: 150px;\n  }\n\n  /* Add Animation - Zoom in the Modal */\n  .modal-content,\n  #caption {\n    animation-name: zoom;\n    animation-duration: 0.6s;\n  }\n\n  @keyframes zoom {\n    from {\n      transform: scale(0);\n    }\n    to {\n      transform: scale(1);\n    }\n  }\n\n  /* The Close Button */\n  .close {\n    position: absolute;\n    top: 15px;\n    right: 35px;\n    color: #f1f1f1;\n    font-size: 40px;\n    font-weight: bold;\n    transition: 0.3s;\n  }\n\n  .close:hover,\n  .close:focus {\n    color: #bbb;\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  /* 100% Image Width on Smaller Screens */\n  @media only screen and (max-width: 700px) {\n    .modal-content {\n      width: 100%;\n    }\n  }\n"])));var h=function(e){return Object(x.jsx)(g,{children:Object(x.jsxs)("div",{className:"modal",children:[Object(x.jsx)("span",{className:"close",onClick:e.onClose,children:"\xd7"}),Object(x.jsx)("img",{className:"modal-content",src:e.src,alt:e.alt})]})})};t.a=function(e){var t=Object(d.useState)(!1),r=Object(i.a)(t,2),n=r[0],a=r[1],j=Object(d.useState)(null),p=Object(i.a)(j,2),g=p[0],v=p[1],y=Object(d.useRef)(),O=Object(d.useState)(null),w=Object(i.a)(O,2),k=w[0],N=w[1],C=function(){var t=e.value;return t?Array.isArray(t)?t:[t]:[]},B=function(){var t=Object(o.a)(s.a.mark((function t(r){var n,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,(n=r.target.files)&&n.length){t.next=4;break}return t.abrupt("return");case 4:return o=n[0],f.a.validate(o,{storage:e.storage,image:!0}),a(!0),t.next=9,f.a.upload(o,{storage:e.storage,image:!0});case 9:o=t.sent,y.current.value="",a(!1),e.onChange([].concat(Object(c.a)(C()),[o])),t.next=21;break;case 15:t.prev=15,t.t0=t.catch(0),y.current.value="",console.error(t.t0),a(!1),m.a.showMessage(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),U=e.max,T=e.readonly,S=Object(x.jsxs)("label",{className:"".concat(n?"opacity-50 cursor-default":"cursor-pointer"," inline-block mt-2 mb-2 text-sm px-4 py-2 tracking-wide dark:border-gray-800 dark:bg-gray-800 dark:hover:bg-gray-600 dark:text-white text-gray-700 border border-gray-300 transition-colors duration-200 transform bg-white rounded-md hover:bg-gray-100 focus:outline-none focus:bg-gray-100"),children:[Object(x.jsx)(u.a,{className:"mr-2",icon:l.m}),Object(b.c)("fileUploader.upload"),Object(x.jsx)("input",{style:{display:"none"},disabled:n||T,accept:"image/*",type:"file",onChange:B,ref:y})]});return Object(x.jsxs)("div",{children:[T||U&&C().map((function(e){return{uid:e.id||void 0,name:e.name,status:"done",url:e.downloadUrl}})).length>=U?null:S,C()&&C().length?Object(x.jsx)("div",{className:"mt-2 flex flex-row flex-wrap",children:C().map((function(t){return Object(x.jsxs)("div",{className:"mr-2 mb-2 rounded-md",style:{height:"100px"},onMouseEnter:function(){return N(t.id)},onMouseLeave:function(){return N(null)},children:[Object(x.jsx)("img",{alt:t.name,src:t.downloadUrl,className:"rounded-md",style:{width:"100px",height:"100px",objectFit:"cover"}}),Object(x.jsxs)("div",{className:"relative rounded-b-md text-center",style:{display:k===t.id?"block":"none",bottom:"1.5rem",width:"100px",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:[Object(x.jsx)("button",{type:"button",className:"text-white",onClick:function(){return function(e){v({src:e.downloadUrl,alt:e.name})}(t)},children:Object(x.jsx)(u.a,{icon:l.n})}),!T&&Object(x.jsx)("button",{type:"button",className:"text-white ml-2",onClick:function(){return r=t.id,void e.onChange(C().filter((function(e){return e.id!==r})));var r},children:Object(x.jsx)(u.a,{icon:l.s})})]})]},t.id)}))}):null,g&&Object(x.jsx)(h,{src:g.src,alt:g.alt,onClose:function(){v(null)}})]})}},564:function(e,t,r){"use strict";r(2);var n=r(6);t.a=function(e){if(!e.value&&0!==e.value&&!1!==e.value)return null;var t="".concat(e.prefix?"".concat(e.prefix," "):"").concat(e.value);return Object(n.jsxs)("div",{className:"mb-4",children:[Object(n.jsx)("label",{className:"text-medium text-gray-600 dark:text-gray-400",children:e.label}),Object(n.jsx)("div",{children:t})]})}},571:function(e,t,r){"use strict";var n=r(5),a=r(26),s=r(39),c=r(95),o=Object(n.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(c.a.values.userRead)})),i=Object(n.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(c.a.values.userEdit)})),l=Object(n.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(c.a.values.userDestroy)})),u={selectPermissionToRead:o,selectPermissionToEdit:i,selectPermissionToCreate:Object(n.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(c.a.values.userCreate)})),selectPermissionToImport:Object(n.a)([a.a.selectCurrentTenant,a.a.selectCurrentUser],(function(e,t){return new s.a(e,t).match(c.a.values.userImport)})),selectPermissionToDestroy:l};t.a=u},577:function(e,t,r){"use strict";var n=r(4),a=(r(2),r(6));t.a=function(e){var t=e.value;return t?"active"===t?Object(a.jsx)("span",{className:"bg-green-500 text-white dark:bg-green-800 dark:text-green-100 font-medium py-1 px-2 text-sm rounded-lg",children:Object(n.c)("user.status.active")}):"empty-permissions"===t?Object(a.jsx)("span",{className:"bg-red-500 text-white dark:bg-red-800 dark:text-red-100 font-medium py-1 px-2 text-sm rounded-lg",children:Object(n.c)("user.status.empty-permissions")}):Object(a.jsx)("span",{className:"bg-yellow-500 text-white dark:bg-yellow-800 dark:text-yellow-100 font-medium py-1 px-2 text-sm rounded-lg",children:Object(n.c)("user.status.invited")}):null}},579:function(e,t,r){"use strict";r(2);var n=r(559),a=r(6);t.a=function(e){var t=function(){var t=e.value;return t?Array.isArray(t)?t:[t]:[]};return t().length?Object(a.jsxs)("div",{className:"mb-4",children:[Object(a.jsx)("label",{className:"text-medium text-gray-600 dark:text-gray-400",children:e.label}),Object(a.jsx)("div",{children:Object(a.jsx)(n.a,{readonly:!0,value:t()})})]}):null}},596:function(e,t,r){"use strict";var n,a=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)}var c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var o=function(e){return"string"===typeof e&&c.test(e)},i=[],l=0;l<256;++l)i.push((l+256).toString(16).substr(1));var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!o(r))throw TypeError("Stringified UUID is invalid");return r};t.a=function(e,t,r){var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=n[a];return t}return u(n)}},632:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(23),s=r(24),c=r(4),o=r(127),i=r(5),l=function(e){return e.user.view},u=Object(i.a)([l],(function(e){return e.user})),d={selectLoading:Object(i.a)([l],(function(e){return Boolean(e.loading)})),selectUser:u,selectRaw:l},b=r(493),m=r(164),f=r(496),j=r(6);var p=function(e){return!e.value&&0!==e.value&&!1!==e.value||Array.isArray(e.value)&&!e.value.length?null:Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)("label",{className:"text-medium text-gray-600 dark:text-gray-400",children:e.label}),Object(j.jsx)("div",{children:e.render(e.value)})]})},x=r(579),g=r(564),h=r(577);var v=function(e){var t=e.user;return e.loading||!t?Object(j.jsx)(f.a,{}):Object(j.jsxs)("div",{children:[Object(j.jsx)(g.a,{label:Object(c.c)("user.fields.email"),value:t.email}),Object(j.jsx)(g.a,{label:Object(c.c)("user.fields.firstName"),value:t.firstName}),Object(j.jsx)(g.a,{label:Object(c.c)("user.fields.lastName"),value:t.lastName}),Object(j.jsx)(g.a,{label:Object(c.c)("user.fields.phoneNumber"),value:t.phoneNumber,prefix:"+"}),Object(j.jsx)(x.a,{label:Object(c.c)("user.fields.avatars"),value:t.avatars}),Object(j.jsx)(p,{label:Object(c.c)("user.fields.roles"),value:t.roles,render:function(e){return e.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("span",{children:m.a.labelOf(e)})},e)}))}}),Object(j.jsx)(p,{label:Object(c.c)("user.fields.status"),value:t.status,render:function(e){return Object(j.jsx)(h.a,{value:e})}})]})},y=r(503),O=r(37),w=r(54),k=r(59),N=r(61),C=r(571);var B=function(e){var t=e.match,r=Object(a.e)(d.selectUser),n=Object(a.e)(N.a.selectPermissionToRead),s=Object(a.e)(C.a.selectPermissionToEdit),o=t.params.id;return Object(j.jsxs)("div",{className:"mb-4",children:[s&&Object(j.jsx)(k.a,{to:"/user/".concat(o,"/edit"),children:Object(j.jsxs)("button",{className:"mb-2 mr-2 text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600",type:"button",children:[Object(j.jsx)(w.a,{className:"mr-2",icon:y.a}),Object(c.c)("common.edit")]})}),n&&Object(j.jsx)(k.a,{to:"/audit-logs?entityId=".concat(encodeURIComponent(o)),children:Object(j.jsxs)("button",{className:"mb-2 mr-2 text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide dark:border-gray-800 dark:bg-gray-800 dark:hover:bg-gray-600 dark:text-white text-gray-700 border border-gray-300 transition-colors duration-200 transform bg-white rounded-md hover:bg-gray-100 focus:outline-none focus:bg-gray-100",type:"button",children:[Object(j.jsx)(w.a,{className:"mr-2",icon:O.i}),Object(c.c)("auditLog.menu")]})}),r&&r.email&&n&&Object(j.jsx)(k.a,{to:"/audit-logs?createdByEmail=".concat(encodeURIComponent(r.email)),children:Object(j.jsxs)("button",{className:"mb-2 mr-2 text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide dark:border-gray-800 dark:bg-gray-800 dark:hover:bg-gray-600 dark:text-white text-gray-700 border border-gray-300 transition-colors duration-200 transform bg-white rounded-md hover:bg-gray-100 focus:outline-none focus:bg-gray-100",type:"button",children:[Object(j.jsx)(w.a,{className:"mr-2",icon:y.b}),Object(c.c)("user.view.activity")]})})]})};t.default=function(e){var t=Object(a.d)(),r=Object(s.h)(),i=Object(a.e)(d.selectLoading),l=Object(a.e)(d.selectUser);return Object(n.useEffect)((function(){t(o.a.doFind(r.params.id))}),[t,r.params.id]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b.a,{items:[[Object(c.c)("dashboard.menu"),"/"],[Object(c.c)("user.menu"),"/user"],[Object(c.c)("user.view.title")]]}),Object(j.jsxs)("div",{className:"mt-4 p-6 bg-white dark:bg-gray-800 dark:border-gray-800 text-gray-900 dark:text-gray-200 border-gray-200 border rounded-md",children:[Object(j.jsx)("h1",{className:"text-lg font-medium mb-6",children:Object(c.c)("user.view.title")}),Object(j.jsx)(B,{match:r}),Object(j.jsx)(v,{loading:i,user:l})]})]})}}}]);