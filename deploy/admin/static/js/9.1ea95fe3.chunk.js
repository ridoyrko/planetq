(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[9],{492:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(8),a=n(9),i=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"errorMessage",value:function(e,t,n,r){var a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(i)return i;if(!r&&!n[e])return null;var c=t[e];return(null===c||void 0===c||null===(a=c[0])||void 0===a?void 0:a.message)||(null===c||void 0===c?void 0:c.message)||c||null}}]),e}()},493:function(e,t,n){"use strict";var r=n(37),a=n(54),i=(n(2),n(59)),c=n(6);t.a=function(e){var t=function(e){return e.length>1};return Object(c.jsx)("ol",{className:"text-sm flex items-center",children:e.items.map((function(n,l){var o=0===l,u=e.items.length-1===l;return Object(c.jsxs)("li",{className:"".concat(u?"text-gray-800 dark:text-white":"text-gray-500 dark:text-gray-200 mr-2"),children:[!o&&Object(c.jsx)(a.a,{className:"mr-2 font-normal text-gray-400 dark:text-gray-200",icon:r.d}),t(n)?Object(c.jsx)(i.a,{className:"hover:underline",to:n[1],children:n[0]}):n[0]]},n[0])}))})}},496:function(e,t,n){"use strict";n(2);var r=n(6);t.a=function(){return Object(r.jsx)("div",{className:"w-full flex justify-center items-center mt-12 mb-12",children:Object(r.jsx)("div",{className:"spinner"})})}},497:function(e,t,n){"use strict";var r=n(100),a=n(2),i=n(491),c=n(492),l=n(596),o=n(6);function u(e){var t=Object(a.useState)(Object(l.a)()),n=Object(r.a)(t,1)[0],u=e.label,s=e.name,d=e.hint,m=e.type,b=e.placeholder,f=e.autoFocus,j=e.autoComplete,x=e.required,g=e.externalErrorMessage,O=e.disabled,h=e.endAdornment,v=Object(i.d)(),y=v.register,p=v.errors,q=v.formState,k=q.touched,N=q.isSubmitted,w=c.a.errorMessage(s,p,k,N,g);return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{children:[Boolean(u)&&Object(o.jsxs)("label",{className:"block text-sm text-gray-800 dark:text-gray-200",htmlFor:n,children:[u," ",x?Object(o.jsx)("span",{className:"text-sm text-red-400",children:"*"}):null]}),Object(o.jsxs)("div",{className:"flex flex-nowrap items-baseline",children:[Object(o.jsx)("input",{id:n,name:s,type:m,ref:y,onChange:function(t){e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},placeholder:b||void 0,autoFocus:f||void 0,autoComplete:j||void 0,disabled:O,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring ".concat(w?"border-red-400 text-red-600":"")}),h&&Object(o.jsx)("span",{className:"ml-2 text-gray-700",children:h})]})]}),Object(o.jsx)("div",{className:"text-red-600 text-sm mt-2",children:w}),Boolean(d)&&Object(o.jsx)("div",{className:"text-gray-500 text-sm mt-2",children:d})]})}u.defaultProps={type:"text",required:!1},t.a=u},505:function(e,t,n){"use strict";var r=n(20),a=n(28),i=n(4),c=n(55),l=n.n(c),o={generic:function(e){return a.c().label(e)},string:function(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},boolean:function(e,t){return a.b().default(!1).label(e)},relationToOne:function(e,t){t=t||{};var n=a.c().nullable(!0).label(e).transform((function(e,t){return t?t.id:null}));return t.required&&(n=n.required()),n},stringArray:function(e,t){t=t||{};var n=a.a().compact().ensure().of(a.h().transform((function(e,t){return""===t?null:e})).trim()).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},relationToMany:function(e,t){t=t||{};var n=a.a().nullable(!0).label(e).transform((function(e,t){return t&&t.length?t.map((function(e){return e.id})):[]}));return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},integer:function(e,t){t=t||{};var n=a.d().transform((function(e,t){return""===t?null:e})).integer().nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},images:function(e,t){t=t||{};var n=a.a().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},files:function(e,t){t=t||{};var n=a.a().compact().ensure().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},enumerator:function(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).label(e).nullable(!0).oneOf([null].concat(Object(r.a)(t.options||[])));return t.required&&(n=n.required(Object(i.c)("validation.string.selected"))),n},email:function(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e).email();return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},decimal:function(e,t){t=t||{};var n=a.d().transform((function(e,t){return""===t?null:e})).nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},datetime:function(e,t){t=t||{};var n=a.c().nullable(!0).label(e).transform((function(e,t){return e?l()(t,"YYYY-MM-DD HH:mm").toISOString():null}));return t.required&&(n=n.required()),n},date:function(e,t){t=t||{};var n=a.c().nullable(!0).label(e).test("is-date",Object(i.c)("validation.mixed.default"),(function(e){return!e||l()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?l()(e).format("YYYY-MM-DD"):null}));return t.required&&(n=n.required()),n}};t.a=o},576:function(e,t,n){"use strict";var r=n(5),a=function(e){return e.tenant.form},i=Object(r.a)([a],(function(e){return e.record})),c={selectInitLoading:Object(r.a)([a],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:Object(r.a)([a],(function(e){return Boolean(e.saveLoading)})),selectRecord:i,selectRaw:a};t.a=c},647:function(e,t,n){"use strict";n.r(t);var r=n(100),a=n(2),i=n(23),c=n(24),l=n(4),o=n(12),u=n(67),s=n(576),d=n(493),m=n(496),b=n(0),f=n(503),j=n(37),x=n(54),g=n(508),O=n(491),h=n(25),v=n(505),y=n(22),p=n(497),q=n(28),k=n(6),N=q.e().shape({name:v.a.string(Object(l.c)("tenant.fields.tenantName"),{required:!0,max:50}),url:v.a.string(Object(l.c)("tenant.fields.tenantUrl"),{required:!0,max:50}).matches(/^[a-z0-9][-a-zA-Z0-9]*$/,Object(l.c)("tenant.validation.url"))}),w=q.e().shape({name:v.a.string(Object(l.c)("tenant.fields.tenantName"),{required:!0,max:50})}),S=y.a.isEnabled?N:w;var C=function(e){var t=e.saveLoading,n=Object(a.useState)((function(){return e.record||{name:""}})),i=Object(r.a)(n,1)[0],c=Object(O.c)({resolver:Object(g.yupResolver)(S),mode:"all",defaultValues:i}),o=function(t){var n,r=Object.assign({},t);e.onSubmit(null===(n=e.record)||void 0===n?void 0:n.id,r)};return Object(k.jsx)(O.a,Object(b.a)(Object(b.a)({},c),{},{children:Object(k.jsxs)("form",{onSubmit:c.handleSubmit(o),children:[Object(k.jsx)("div",{className:"w-full md:w-md lg:w-md",children:Object(k.jsx)(p.a,{name:"name",label:Object(l.c)("tenant.fields.name"),required:!0,autoFocus:!0})}),y.a.isEnabled&&Object(k.jsx)("div",{className:"w-full sm:w-md md:w-md lg:w-md  mt-4",children:Object(k.jsx)(p.a,{name:"url",label:Object(l.c)("tenant.fields.tenantUrl"),endAdornment:".".concat(h.a.frontendUrl.host)})}),Object(k.jsxs)("div",{className:"pt-4",children:[Object(k.jsxs)("button",{className:"mr-2 mb-2 text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600",disabled:t,type:"button",onClick:c.handleSubmit(o),children:[Object(k.jsx)(x.a,{className:"mr-2",icon:f.e}),Object(l.c)("common.save")]}),Object(k.jsxs)("button",{disabled:t,onClick:function(){Object.keys(i).forEach((function(e){c.setValue(e,i[e])}))},className:"mr-2 mb-2 text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide dark:border-gray-800 dark:bg-gray-800 dark:hover:bg-gray-600 dark:text-white text-gray-700 border border-gray-300 transition-colors duration-200 transform bg-white rounded-md hover:bg-gray-100 focus:outline-none focus:bg-gray-100",type:"button",children:[Object(k.jsx)(x.a,{className:"mr-2",icon:j.t}),Object(l.c)("common.reset")]}),e.onCancel?Object(k.jsxs)("button",{disabled:t,onClick:function(){return e.onCancel()},className:"mr-2 mb-2 text-sm disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide dark:border-gray-800 dark:bg-gray-800 dark:hover:bg-gray-600 dark:text-white text-gray-700 border border-gray-300 transition-colors duration-200 transform bg-white rounded-md hover:bg-gray-100 focus:outline-none focus:bg-gray-100",type:"button",children:[Object(k.jsx)(x.a,{className:"mr-2",icon:j.s}),Object(l.c)("common.cancel")]}):null]})]})}))};t.default=function(){var e=Object(i.d)(),t=Object(a.useState)(!1),n=Object(r.a)(t,2),b=n[0],f=n[1],j=Object(c.h)(),x=Object(i.e)(s.a.selectInitLoading),g=Object(i.e)(s.a.selectSaveLoading),O=Object(i.e)(s.a.selectRecord),h=Boolean(j.params.id);Object(a.useEffect)((function(){e(u.a.doInit(j.params.id)),f(!0)}),[e,j.params.id]);var v=h?Object(l.c)("tenant.edit.title"):Object(l.c)("tenant.new.title");return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(d.a,{items:[[Object(l.c)("tenant.menu"),"/tenant"],[v]]}),Object(k.jsxs)("div",{className:"mt-4 p-6 bg-white dark:bg-gray-800 dark:border-gray-800 text-gray-900 dark:text-gray-200 border-gray-200 border rounded-md",children:[Object(k.jsx)("h1",{className:"text-lg font-medium mb-6",children:v}),x&&Object(k.jsx)(m.a,{}),b&&!x&&Object(k.jsx)(C,{saveLoading:g,record:O,isEditing:h,onSubmit:function(t,n){e(h?u.a.doUpdate(t,n):u.a.doCreate(n))},onCancel:function(){return Object(o.b)().push("/tenant")}})]})]})}}}]);