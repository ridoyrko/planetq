(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[25],{492:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(8),a=n(9),o=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"errorMessage",value:function(e,t,n,r){var a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(o)return o;if(!r&&!n[e])return null;var i=t[e];return(null===i||void 0===i||null===(a=i[0])||void 0===a?void 0:a.message)||(null===i||void 0===i?void 0:i.message)||i||null}}]),e}()},497:function(e,t,n){"use strict";var r=n(100),a=n(2),o=n(491),i=n(492),c=n(596),u=n(6);function l(e){var t=Object(a.useState)(Object(c.a)()),n=Object(r.a)(t,1)[0],l=e.label,s=e.name,d=e.hint,b=e.type,m=e.placeholder,f=e.autoFocus,g=e.autoComplete,j=e.required,O=e.externalErrorMessage,x=e.disabled,p=e.endAdornment,h=Object(o.d)(),v=h.register,y=h.errors,w=h.formState,k=w.touched,C=w.isSubmitted,q=i.a.errorMessage(s,y,k,C,O);return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Boolean(l)&&Object(u.jsxs)("label",{className:"block text-sm text-gray-800 dark:text-gray-200",htmlFor:n,children:[l," ",j?Object(u.jsx)("span",{className:"text-sm text-red-400",children:"*"}):null]}),Object(u.jsxs)("div",{className:"flex flex-nowrap items-baseline",children:[Object(u.jsx)("input",{id:n,name:s,type:b,ref:v,onChange:function(t){e.onChange&&e.onChange(t.target.value)},onBlur:function(t){e.onBlur&&e.onBlur(t)},placeholder:m||void 0,autoFocus:f||void 0,autoComplete:g||void 0,disabled:x,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md dark:bg-gray-800 dark:text-gray-200 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring ".concat(q?"border-red-400 text-red-600":"")}),p&&Object(u.jsx)("span",{className:"ml-2 text-gray-700",children:p})]})]}),Object(u.jsx)("div",{className:"text-red-600 text-sm mt-2",children:q}),Boolean(d)&&Object(u.jsx)("div",{className:"text-gray-500 text-sm mt-2",children:d})]})}l.defaultProps={type:"text",required:!1},t.a=l},498:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},499:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return a}))},500:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(162);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},501:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(518),a=n.n(r),o=n(520);function i(e,t){return!t||"object"!==a()(t)&&"function"!==typeof t?Object(o.a)(e):t}},502:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},505:function(e,t,n){"use strict";var r=n(20),a=n(28),o=n(4),i=n(55),c=n.n(i),u={generic:function(e){return a.c().label(e)},string:function(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},boolean:function(e,t){return a.b().default(!1).label(e)},relationToOne:function(e,t){t=t||{};var n=a.c().nullable(!0).label(e).transform((function(e,t){return t?t.id:null}));return t.required&&(n=n.required()),n},stringArray:function(e,t){t=t||{};var n=a.a().compact().ensure().of(a.h().transform((function(e,t){return""===t?null:e})).trim()).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},relationToMany:function(e,t){t=t||{};var n=a.a().nullable(!0).label(e).transform((function(e,t){return t&&t.length?t.map((function(e){return e.id})):[]}));return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},integer:function(e,t){t=t||{};var n=a.d().transform((function(e,t){return""===t?null:e})).integer().nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},images:function(e,t){t=t||{};var n=a.a().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},files:function(e,t){t=t||{};var n=a.a().compact().ensure().nullable(!0).label(e);return(t.required||t.min)&&(n=n.required()),t.min||0===t.min?n=n.min(t.min):t.required&&(n=n.min(1)),t.max&&(n=n.max(t.max)),n},enumerator:function(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).label(e).nullable(!0).oneOf([null].concat(Object(r.a)(t.options||[])));return t.required&&(n=n.required(Object(o.c)("validation.string.selected"))),n},email:function(e,t){t=t||{};var n=a.h().transform((function(e,t){return""===t?null:e})).nullable(!0).trim().label(e).email();return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),t.matches&&(n=n.matches(t.matches)),n},decimal:function(e,t){t=t||{};var n=a.d().transform((function(e,t){return""===t?null:e})).nullable(!0).label(e);return t.required&&(n=n.required()),(t.min||0===t.min)&&(n=n.min(t.min)),t.max&&(n=n.max(t.max)),n},datetime:function(e,t){t=t||{};var n=a.c().nullable(!0).label(e).transform((function(e,t){return e?c()(t,"YYYY-MM-DD HH:mm").toISOString():null}));return t.required&&(n=n.required()),n},date:function(e,t){t=t||{};var n=a.c().nullable(!0).label(e).test("is-date",Object(o.c)("validation.mixed.default"),(function(e){return!e||c()(e,"YYYY-MM-DD").isValid()})).transform((function(e){return e?c()(e).format("YYYY-MM-DD"):null}));return t.required&&(n=n.required()),n}};t.a=u},510:function(e,t,n){"use strict";var r=n(0);t.a=function(e,t){return t?{container:function(e){return Object(r.a)(Object(r.a)({},e),{},{borderRadius:"0.375rem",cursor:"pointer"})},control:function(t,n){return Object(r.a)(Object(r.a)({},t),{},{minHeight:"42px",borderColor:"rgb(248, 113, 113)",color:"rgb(220, 38, 38)",cursor:n.isDisabled?"default":"pointer",backgroundColor:e?"rgb(31, 41, 55)":"white"})},indicatorSeparator:function(e,t){return Object(r.a)(Object(r.a)({},e),{},{backgroundColor:"rgb(248, 113, 113)"})},singleValue:function(e){return Object(r.a)(Object(r.a)({},e),{},{color:"rgb(220, 38, 38)"})},menu:function(t,n){return Object(r.a)(Object(r.a)({},t),{},{backgroundColor:e?"rgb(31, 41, 55)":"white"})},option:function(t,n){return Object(r.a)(Object(r.a)({},t),{},{cursor:"pointer",backgroundColor:e?n.isFocused?"rgb(209, 213, 219)":"rgb(31, 41, 55)":n.isFocused?"rgb(55, 65, 81)":"white",color:e?n.isFocused?"rgb(55, 65, 81)":"rgb(209, 213, 219)":n.isFocused?"white":"rgb(55, 65, 81)"})},multiValue:function(t,n){return Object(r.a)(Object(r.a)({},t),{},{color:e?n.isFocused?"rgb(55, 65, 81)":"rgb(209, 213, 219)":n.isFocused?"white":"rgb(55, 65, 81)"})},input:function(t,n){return Object(r.a)(Object(r.a)({},t),{},{color:e?n.isFocused?"rgb(55, 65, 81)":"rgb(209, 213, 219)":n.isFocused?"white":"rgb(55, 65, 81)"})},multiValueRemove:function(e,t){return Object(r.a)(Object(r.a)({},e),{},{color:"rgb(55, 65, 81)"})}}:{container:function(e){return Object(r.a)(Object(r.a)({},e),{},{borderRadius:"0.375rem",cursor:"pointer"})},control:function(t,n){return Object(r.a)(Object(r.a)({},t),{},{minHeight:"42px",cursor:n.isDisabled?"default":"pointer",color:e?"rgb(229, 231, 235)":"rgb(55, 65, 81)",backgroundColor:e?"rgb(31, 41, 55)":"white",borderColor:e?"rgb(75, 85, 99)":"rgb(209, 213, 219)"})},indicatorSeparator:function(t,n){return Object(r.a)(Object(r.a)({},t),{},{backgroundColor:e?"rgb(75, 85, 99)":"rgb(209, 213, 219)"})},singleValue:function(t){return Object(r.a)(Object(r.a)({},t),{},{color:e?"rgb(229, 231, 235)":"rgb(55, 65, 81)"})},menu:function(t,n){return Object(r.a)(Object(r.a)({},t),{},{backgroundColor:e?"rgb(31, 41, 55)":"white"})},option:function(t,n){return Object(r.a)(Object(r.a)({},t),{},{cursor:"pointer",backgroundColor:e?n.isFocused?"rgb(209, 213, 219)":"rgb(31, 41, 55)":n.isFocused?"rgb(55, 65, 81)":"white",color:e?n.isFocused?"rgb(55, 65, 81)":"rgb(209, 213, 219)":n.isFocused?"white":"rgb(55, 65, 81)"})},input:function(t,n){return Object(r.a)(Object(r.a)({},t),{},{color:e?n.isFocused?"rgb(55, 65, 81)":"rgb(209, 213, 219)":n.isFocused?"white":"rgb(55, 65, 81)"})},multiValueRemove:function(e,t){return Object(r.a)(Object(r.a)({},e),{},{color:"rgb(55, 65, 81)"})}}}},512:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},518:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},520:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},527:function(e,t,n){"use strict";var r=n(100),a=n(2),o=n(531),i=n(4),c=n(491),u=n(492),l=n(23),s=n(60),d=n(510),b=n(596),m=n(6);function f(e){var t=Object(a.useState)(Object(b.a)()),n=Object(r.a)(t,1)[0],f=e.label,g=e.name,j=e.hint,O=e.options,x=e.required,p=e.mode,h=e.placeholder,v=e.isClearable,y=e.externalErrorMessage,w=Object(c.d)(),k=w.register,C=w.errors,q=w.formState,N=q.touched,S=q.isSubmitted,F=w.setValue,M=w.watch,V=u.a.errorMessage(g,C,N,S,y),B=M(g),D=Object(l.e)(s.a.selectDarkMode);Object(a.useEffect)((function(){k({name:g})}),[k,g]);var T=function(){return B?B.map((function(e){return O.find((function(t){return t.value===e}))})):[]},Y=function(){var t=e.options;return null!=B?t.find((function(e){return e.value===B})):null},_=function(t){if(!t)return F(g,[],{shouldValidate:!0,shouldDirty:!0}),void(e.onChange&&e.onChange([]));var n=t.map((function(e){return e?e.value:e})).filter((function(e){return null!=e}));F(g,n,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(n)},E=function(t){if(!t)return F(g,null,{shouldValidate:!0,shouldDirty:!0}),void(e.onChange&&e.onChange(null));F(g,t.value,{shouldValidate:!0,shouldDirty:!0}),e.onChange&&e.onChange(t.value)},I=Object(d.a)(D,Boolean(V));return Object(m.jsxs)("div",{children:[Boolean(f)&&Object(m.jsxs)("label",{className:"block text-sm text-gray-800 dark:text-gray-200",htmlFor:n,children:[f," ",x?Object(m.jsx)("span",{className:"text-sm text-red-400",children:"*"}):null]}),Object(m.jsx)(o.a,{className:"w-full mt-2",value:"multiple"===e.mode?T():Y(),onChange:function(t){return"multiple"===e.mode?_(t):E(t)},onBlur:function(t){e.onBlur&&e.onBlur(t)},id:n,name:g,options:O,isMulti:"multiple"===p,placeholder:h||"",isClearable:v,styles:I,loadingMessage:function(){return Object(i.c)("autocomplete.loading")},noOptionsMessage:function(){return Object(i.c)("autocomplete.noOptions")}}),Object(m.jsx)("div",{className:"text-red-600 text-sm mt-2",children:V}),Boolean(j)&&Object(m.jsx)("div",{className:"text-gray-500 text-sm mt-2",children:j})]})}f.defaultProps={required:!1,isClearable:!0},t.a=f},576:function(e,t,n){"use strict";var r=n(5),a=function(e){return e.tenant.form},o=Object(r.a)([a],(function(e){return e.record})),i={selectInitLoading:Object(r.a)([a],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:Object(r.a)([a],(function(e){return Boolean(e.saveLoading)})),selectRecord:o,selectRaw:a};t.a=i},643:function(e,t,n){"use strict";n.r(t);var r=n(100),a=n(2),o=n(23),i=n(4),c=n(18),u=n(26),l=n(0),s=n(491),d=n(505),b=n(67),m=n(576),f=n(497),g=n(28),j=n(25);var O=n(22),x=n(508),p=n(6),h=g.e().shape({name:d.a.string(Object(i.c)("tenant.fields.tenantName"),{required:!0,max:50}),url:d.a.string(Object(i.c)("tenant.fields.tenantUrl"),{required:!0,max:50}).matches(/^[a-z0-9][-a-zA-Z0-9]*$/,Object(i.c)("tenant.validation.url"))}),v=g.e().shape({name:d.a.string(Object(i.c)("tenant.fields.tenantName"),{required:!0,max:50})}),y=O.a.isEnabled?h:v;var w=function(e){var t=Object(o.d)(),n=Object(a.useState)({name:""}),c=Object(r.a)(n,1)[0],d=Object(s.c)({resolver:Object(x.yupResolver)(y),mode:"onSubmit",defaultValues:c}),g=Object(o.e)(m.a.selectSaveLoading),h=Object(o.e)(u.a.selectInvitedTenants);return Object(p.jsx)(s.a,Object(l.a)(Object(l.a)({},d),{},{children:Object(p.jsxs)("form",{className:"mt-6",onSubmit:d.handleSubmit((function(e){t(b.a.doCreate(e))})),children:[Object(p.jsx)(f.a,{name:"name",label:Object(i.c)("tenant.fields.tenantName"),autoComplete:"name",onChange:function(e){d.setValue("url",e.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-"))},autoFocus:!0}),O.a.isEnabled&&Object(p.jsx)("div",{className:"mt-4",children:Object(p.jsx)(f.a,{name:"url",label:Object(i.c)("tenant.fields.tenantUrl"),endAdornment:".".concat(j.a.frontendUrl.host)})}),Object(p.jsx)("div",{className:"mt-6",children:Object(p.jsx)("button",{type:"submit",className:"disabled:opacity-50 disabled:cursor-default w-full px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600",disabled:g,children:Object(i.c)("tenant.create.button")})}),Boolean(h.length)&&Object(p.jsx)("div",{className:"mt-2",children:Object(p.jsx)("button",{type:"button",className:"w-full disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide dark:border-gray-800 dark:bg-gray-800 dark:hover:bg-gray-600 dark:text-white text-gray-700 border border-gray-300 transition-colors duration-200 transform bg-white rounded-md hover:bg-gray-100 focus:outline-none focus:bg-gray-100",onClick:e.onViewToggle,children:Object(i.c)("tenant.invitation.view")})})]})}))},k=n(58),C=n(170),q=n(527),N=g.e().shape({id:d.a.string(Object(i.c)("tenant.fields.tenantId"))});var S=function(e){var t=Object(o.d)(),n=Object(o.e)(C.a.selectLoading),c=Object(o.e)(u.a.selectInvitedTenants),d=Object(o.e)(u.a.selectCurrentUser),b=Object(a.useState)({id:c[0].id}),m=Object(r.a)(b,1)[0],f=Object(s.c)({resolver:Object(x.yupResolver)(N),mode:"onSubmit",defaultValues:m});return Object(p.jsx)(s.a,Object(l.a)(Object(l.a)({},f),{},{children:Object(p.jsxs)("form",{className:"mt-6",onSubmit:f.handleSubmit((function(e){var n=e.id,r=d.tenants.find((function(e){return e.tenant.id===n}));t(k.a.doAccept(r.invitationToken))})),children:[Object(p.jsx)(q.a,{name:"id",label:Object(i.c)("tenant.fields.tenantId"),options:c.map((function(e){return{value:e.id,label:e.name}})),isClearable:!1}),Object(p.jsx)("div",{className:"mt-6",children:Object(p.jsx)("button",{type:"submit",className:"disabled:opacity-50 disabled:cursor-default w-full px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600",disabled:n,children:Object(i.c)("tenant.invitation.accept")})}),Object(p.jsx)("div",{className:"mt-2",children:Object(p.jsx)("button",{type:"button",className:"w-full disabled:opacity-50 disabled:cursor-default px-4 py-2 tracking-wide dark:border-gray-800 dark:bg-gray-800 dark:hover:bg-gray-600 dark:text-white text-gray-700 border border-gray-300 transition-colors duration-200 transform bg-white rounded-md hover:bg-gray-100 focus:outline-none focus:bg-gray-100",onClick:e.onViewToggle,children:Object(i.c)("tenant.new.title")})})]})}))};t.default=function(){var e=Object(a.useState)("form"),t=Object(r.a)(e,2),n=t[0],l=t[1],s=Object(o.d)(),d=Object(o.e)(u.a.selectInvitedTenants),b=Object(o.e)(u.a.selectBackgroundImageUrl),m=Object(o.e)(u.a.selectLogoUrl);Object(a.useEffect)((function(){l(d.length?"select":"form")}),[d]);var f=function(){l((function(e){return"form"===e?"select":"form"}))};return Object(p.jsx)("div",{style:{backgroundImage:"url(".concat(b||"/images/tenant.jpg",")")},className:"bg-cover h-screen flex items-center justify-center",children:Object(p.jsxs)("div",{className:"w-full md:max-w-sm lg:max-w-sm m-auto bg-white md:rounded-md lg:rounded-md shadow-md dark:bg-gray-800",children:[Object(p.jsxs)("div",{className:"p-6",children:[Object(p.jsx)("div",{className:"w-full flex justify-center items-center",children:m?Object(p.jsx)("img",{src:m,className:"w-72 max-h-14 object-cover",alt:Object(i.c)("app.title")}):Object(p.jsx)("h1",{className:"text-3xl font-semibold text-center text-gray-700 dark:text-white",children:Object(i.c)("app.title")})}),"form"===n?Object(p.jsx)(w,{onViewToggle:f}):Object(p.jsx)(S,{onViewToggle:f})]}),Object(p.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 py-4 rounded-b-md w-full flex justify-center",children:Object(p.jsx)("button",{className:"block text-xs text-center font-medium text-gray-800 dark:text-gray-200 hover:underline",type:"button",onClick:function(){s(c.a.doSignout())},children:Object(i.c)("auth.signout")})})]})})}}}]);